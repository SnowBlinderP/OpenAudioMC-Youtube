image: maven:3.6.0-jdk-8-alpine

cache:
  paths:
    - maven.repository/
 
CodeTest:
  stage: build
  script:
    - mvn clean package

Create-And-Save:
  stage: deploy
  only:
    - master
  script:
    - apk add --no-cache curl
    - mvn install
    - mv target/oayt-1.0-SNAPSHOT.jar .
    - echo $CI_COMMIT_REF_NAME
    - $cmd
  artifacts:
    paths:
      - ./oayt-1.0-SNAPSHOT.jar
      
Create-And-Save-DevelopMent:
  stage: deploy
  only:
    - development
  script:
    - apk add --no-cache curl
    - mvn install
    - mv target/oayt-1.0-SNAPSHOT.jar .
  artifacts:
    paths:
      - ./oayt-1.0-SNAPSHOT.jar

